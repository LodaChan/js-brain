<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <script>

        let matrix = [
            [1, 2, 3, 4],
            [5, 6, 7, 8],
            [9, 10, 11, 12],
            [13, 14, 15, 16]
        ]

        /**
         * @roateDeg [-360, 360]
         * 90 
         * @matrix n x n matrix
         * @n
         * 4
        */
        function roateMatrix(roateDeg, matrix, n) {
            let newMatrix = JSON.parse(JSON.stringify(matrix));

            let roateRatio = parseFloat(roateDeg / 90);
            console.log("roateRatio", roateDeg, roateRatio);

            for (let x = 0; x < n; x++) {
                for (let y = 0; y < n; y++) {
                    if (roateRatio == 1 || roateRatio == -3) {
                        // 90 -270
                        newMatrix[y][n - 1 - x] = matrix[x][y];
                    } else if (roateRatio == 2 || roateRatio == -2) {
                        // 180 -180
                        newMatrix[n - 1 - x][n - 1 - y] = matrix[x][y];
                    }
                    else if (roateRatio == 3 || roateRatio == -1) {
                        // 270 -90
                        newMatrix[n - 1 - y][x] = matrix[x][y];
                    }
                    else if (roateRatio == 4 || roateRatio == -4) {
                        // 360 - 360
                        newMatrix[x][y] = matrix[x][y];
                    }
                    else {
                        throw new Error("roate deg params err");
                    }
                }
            }

            console.log("matrix", matrix)
            console.log("newMatrix", newMatrix)

            return newMatrix;
        }


        roateMatrix(90, matrix, 4);
        roateMatrix(180, matrix, 4);
        roateMatrix(270, matrix, 4);
        roateMatrix(360, matrix, 4);
    </script>

</body>

</html>