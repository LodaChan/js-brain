<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <script>
        // 节流 - throttle 当持续触发事件时，
        // 保证一定时间段内只调用一次事件处理函数。

        // 场景
        // 1 鼠标不断点击触发，mousedown(单位时间内只触发一次)
        // 2 监听滚动事件，比如是否滑到底部自动加载更多，用throttle来判断

        const throttle = (fn, delay = 500) => {
            let flag = true;
            return (...args) => {
                if (!flag) return;
                flag = false;
                setTimeout(() => {
                    fn.apply(this, args);
                    flag = true;
                }, delay);
            };
        };


    </script>

</body>

</html>