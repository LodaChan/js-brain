<html>

<head>
</head>

<body>

    <button>1</button>
    <button>2</button>
    <button>3</button>
    <button>4</button>
    <button>5</button>
    <button>6</button>
    <button>7</button>
    <button>8</button>
    <button>9</button>
    <button>10</button>


    <script>
        var btnArray = document.getElementsByTagName('button');
        // // var 每次都是 10
        // for (var i = 0; i < btnArray.length; i++) {
        //     btnArray[i].onclick = function () {
        //         alert(i)
        //     }
        // }

        // var + 自执行函数 +  闭包 0 1 2 3 ... 9
        for (var i = 0; i < btnArray.length; i++) {
            (function (i) {
                btnArray[i].onclick = function () {
                    alert(i)
                }
            })(i) // 自执行函数
        }

        // // let 0 1 2 3 ... 9
        // for (let i = 0; i < btnArray.length; i++) {
        //     btnArray[i].onclick = function () {
        //         alert(i)
        //     }
        // }
    </script>
</body>

</html>