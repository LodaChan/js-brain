<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <script>
        // new function ， 构造函数
        // 下面以:String,Number,Boolean,Null,undefined,Symbol 6种数据类型为基准
        function fn(val) {

            // 私有变量
            let _vars = val;

            // 

            // 属性
            this._number = 1;
            this._string = "2";
            this._bool = true;
            this._null = null;
            this._undefined = undefined;
            this._symbol = Symbol("s");

            // 私有方法
            _innerFunction = () => {
                console.log("_innerFunction exec")
            }

            // 对象方法
            this._function = (val) => {
                console.log("_function exec")
            }
        }

        // 类方法
        fn._classFunction = (val) => {
            console.log("_classFunction exec")
        }

        // 原型方法
        fn.prototype._prototypeFunction = function (val) {
            console.log("_prototypeFunction exec")
        }

        console.log("-----------fn-----------", fn)
        console.log("fn.prototype", fn.prototype)
        console.log("typeof fn", typeof fn) // function
        console.log("fn instanceof Function", fn instanceof Function) // true

        console.log("fn._number", fn._number)
        console.log("fn._string", fn._string)
        console.log("fn._bool", fn._bool)
        console.log("fn._null", fn._null)
        console.log("fn._undefined", fn._undefined)
        console.log("fn._symbol", fn._symbol)
        console.log("fn._function", fn._function)

        console.log("fn._classFunction", fn._classFunction)
        console.log("fn._classFunction()")
        fn._classFunction()
        console.log("fn.prototype._prototypeFunction", fn.prototype._prototypeFunction)
        console.log("fn.prototype._prototypeFunction()")
        fn.prototype._prototypeFunction()




        let newFn = new fn("input");
        // 包含6个属性
        //  __proto__ constructor 有 __classFunction
        //  __proto__ 有 _prototypeFunction
        console.log("-----------new fn-----------", newFn)
        console.log("typeof new fn", typeof newFn) // object
        console.log("newFn instanceof fn", newFn instanceof fn) // true

        console.log("newFn._number", newFn._number)
        console.log("newFn._string", newFn._string)
        console.log("newFn._bool", newFn._bool)
        console.log("newFn._null", newFn._null)
        console.log("newFn._undefined", newFn._undefined)
        console.log("newFn._symbol", newFn._symbol)
        console.log("newFn._function", newFn._function)
        console.log("newFn.__proto__.constructor._classFunction", newFn.__proto__.constructor._classFunction)
        newFn.__proto__.constructor._classFunction();
        fn._classFunction.apply(newFn);
        console.log("newFn.__proto__._prototypeFunction", newFn.__proto__._prototypeFunction)
        newFn.__proto__._prototypeFunction();


        function cutomerNew(parent, ...agrs) {
            let obj = {}
            obj.__proto__ = parent.prototype;
            parent.apply(obj, agrs);
            return obj;
        }

        let cutomerNewFn = cutomerNew(fn);
        console.log("-----------new cutomerNewFn-----------", cutomerNewFn)
        console.log("typeof new cutomerNewFn", typeof cutomerNewFn) // object
        console.log("newFn instanceof cutomerNewFn", cutomerNewFn instanceof fn) // true

        console.log("cutomerNewFn._number", cutomerNewFn._number)
        console.log("cutomerNewFn._string", cutomerNewFn._string)
        console.log("cutomerNewFn._bool", cutomerNewFn._bool)
        console.log("cutomerNewFn._null", cutomerNewFn._null)
        console.log("cutomerNewFn._undefined", cutomerNewFn._undefined)
        console.log("cutomerNewFn._symbol", cutomerNewFn._symbol)
        console.log("cutomerNewFn._function", cutomerNewFn._function)
        console.log("cutomerNewFn.__proto__.constructor._classFunction", cutomerNewFn.__proto__.constructor._classFunction)
        cutomerNewFn.__proto__.constructor._classFunction();
        fn._classFunction.apply(cutomerNewFn);
        console.log("cutomerNewFn.__proto__._prototypeFunction", cutomerNewFn.__proto__._prototypeFunction)
        cutomerNewFn.__proto__._prototypeFunction();

    </script>

</body>

</html>